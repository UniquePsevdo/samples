{"version":3,"sources":["debounce.js"],"names":["debounce","fn","delay","last","time","timerId","Date","now","clearTimeout","setTimeout","cb","t","plan","count","a","is","end","b"],"mappings":";;AAqCA;;AArCA;;;;;;;;;;;;;;;;;;;AAmBA,SAASA,QAAT,CAAkBC,EAAlB,EAAsBC,KAAtB,EAA4B;AACxB,QAAIC,OAAO;AACPC,cAAM,IADC;AAEPC,iBAAS;AAFF,KAAX;AAIA,WAAO,MAAI;AACP,YAAID,OAAOE,KAAKC,GAAL,EAAX;AACA,YAAGJ,KAAKC,IAAL,IAAcA,OAAOD,KAAKC,IAAb,GAAqBF,KAArC,EAA2C;AACvCM,yBAAaL,KAAKE,OAAlB;AACH;AACDF,eAAO;AACHC,gBADG;AAEHC,qBAASI,WAAWR,EAAX,EAAeC,KAAf;AAFN,SAAP;AAIH,KATD;AAUH;AACD;;AAIA;;;;;;;;;;;;;;AAcA,UAAKQ,EAAL,CAAQC,KAAI;AACRA,MAAEC,IAAF,CAAO,CAAP;AACA,QAAIC,QAAS,CAAb;AACA,QAAIC,IAAG,MAAI;AACPD;AACAF,UAAEI,EAAF,CAAK,CAAL,EAAQF,KAAR;AACAF,UAAEK,GAAF;AACH,KAJD;AAKA,QAAIC,IAAI,MAAI;AACRjB,iBAASc,CAAT,EAAY,GAAZ;AACH,KAFD;AAGAG;AACAA;AACAA;AACH,CAdD","file":"debounce.js","sourcesContent":["/*function debounce(fn, delay) {      //= 0\n\n    let last = {\n        time: null,\n        timerId: null\n    }\n\n    return () => {\n        let time = Date.now()\n        if (last.time && (time - last.time) < delay) {\n            clearTimeout(last.timerId)\n        }\n        last = {\n            time,\n            timerId: setTimeout(fn, delay)\n        }\n    }\n}*/\n\nfunction debounce(fn, delay){\n    let last = {\n        time: null,\n        timerId: null\n    }\n    return ()=>{\n        let time = Date.now();\n        if(last.time && (time - last.time) < delay){\n            clearTimeout(last.timerId)\n        }\n        last = {\n            time,\n            timerId: setTimeout(fn, delay)\n        }\n    }\n}\n/// tests\n\nimport { test } from 'ava'\n\n/*test.cb(t=>{\n    t.plan(1);\n    let count = 0;\n    let a = ()=>{\n        count++;\n        t.is(count, 1)\n        t.end();\n    }\n    let b = debounce(a, 100);\n    b()\n    b()\n    b()\n})*/\n\ntest.cb(t =>{\n    t.plan(1)\n    let count  = 0\n    let a =()=>{\n        count++\n        t.is(1, count)\n        t.end()\n    }\n    let b = ()=>{\n        debounce(a, 100)\n    }\n    b()\n    b()\n    b()\n})"]}