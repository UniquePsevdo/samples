{"version":3,"sources":["reduceAsync.js"],"names":["reduceAsync","arr","fn","val","a","t","Promise","resolve","b","c","setTimeout","deepEqual","acc","current"],"mappings":";;AAgCA;;AAhCA;;;;;;;AAOA;;;;;;;;;AASA;;;;;;;;;AASA,IAAIA,cAAc,gBAAeC,GAAf,EAAoBC,EAApB,EAAwBC,GAAxB,EAA4B;AAC1C,SAAI,IAAIC,CAAR,IAAaH,GAAb,EAAiB;AACbE,cAAMD,GAAGC,GAAH,GAAQ,MAAMC,GAAd,EAAN;AACH;AACD,WAAOD,GAAP;AACH,CALD;;AASA;;;;;;;;;;;AAWA,eAAM,MAAME,CAAN,IAAS;AACX,QAAID,IAAI,MAAME,QAAQC,OAAR,CAAgB,GAAhB,CAAd;AACA,QAAIC,IAAI,MAAMF,QAAQC,OAAR,CAAgB,GAAhB,CAAd;AACA,QAAIE,IAAI,MAAM,IAAIH,OAAJ,CAAYC,WAAWG,WAAW,MAAIH,QAAQ,GAAR,CAAf,EAA6B,GAA7B,CAAvB,CAAd;;AAEAF,MAAEM,SAAF,CAAY,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAAZ,GAA6B,MAAMX,YAAY,CAACI,CAAD,EAAGI,CAAH,EAAKC,CAAL,CAAZ,EAAqB,CAACG,GAAD,EAAMC,OAAN,KAAmB,CAAC,GAAGD,GAAJ,EAASC,OAAT,CAAxC,EAA2D,EAA3D,CAAnC;AACAR,MAAEM,SAAF,CAAY,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,CAAZ,GAAkC,MAAMX,YAAY,CAACI,CAAD,EAAGI,CAAH,EAAKC,CAAL,CAAZ,EAAqB,CAACG,GAAD,EAAMC,OAAN,KAAmB,CAAC,GAAGD,GAAJ,EAASC,OAAT,CAAxC,EAA2D,CAAC,GAAD,CAA3D,CAAxC;AAGH,CATD","file":"reduceAsync.js","sourcesContent":["/*let reduceAsync = async (array, fn, value) => {\n    for (let a of array) {\n        value = fn(value, await a())\n    }\n    return value\n}*/\n\n/*\nlet reduceAsync = async (array, fn, val)=>{\n    for(let a of array){\n        val = fn(val, await a())\n    }\n    return val\n}\n*/\n\n/*\nlet reduceAsync = async function (arr, fn, val){\n    for(let a of arr){\n        val = fn(val, await a())\n    }\n    return val\n}\n*/\n\nlet reduceAsync = async function(arr, fn, val){\n    for(let a of arr){\n        val = fn(val, await a())\n    }\n    return val\n}\n\nimport { test } from 'ava'\n\n/*\ntest(async t => {\n    let a = () => Promise.resolve('a')\n    let b = () => Promise.resolve('b')\n    let c = () => new Promise(resolve => { setTimeout(()=>{resolve('c')}, 100)})\n\n    t.deepEqual(['a', 'b', 'c'], await reduceAsync([a, b, c], (acc, current) => [...acc, current], []))\n    t.deepEqual(['d', 'a', 'b', 'c'], await reduceAsync([a, b, c], (acc, current) => [...acc, current], ['d']))\n\n})*/\n\ntest( async t=>{\n    let a = () => Promise.resolve('a')\n    let b = () => Promise.resolve('b')\n    let c = () => new Promise(resolve => setTimeout(()=>resolve('c'), 100))\n\n    t.deepEqual(['a', 'b', 'c'], await reduceAsync([a,b,c], (acc, current)  => [...acc, current], []))\n    t.deepEqual(['d', 'a', 'b', 'c'], await reduceAsync([a,b,c], (acc, current)  => [...acc, current], ['d']))\n\n\n})"]}