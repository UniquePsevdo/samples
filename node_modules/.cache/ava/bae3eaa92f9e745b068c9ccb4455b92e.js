'use strict';

var _ava = require('ava');

/*let reduceAsync = async (array, fn, value) => {
    for (let a of array) {
        value = fn(value, await a())
    }
    return value
}*/

let reduceAsync = async (val, fn, arr) => {
    for (let i = 0; i < arr.length; i++) {
        value = fn((await arr[i]()));
    }
    return value;
};

/// tests

(0, _ava.test)(async t => {
    let a = () => Promise.resolve('a');
    let b = () => Promise.resolve('b');
    let c = () => new Promise(resolve => setTimeout(() => resolve('c'), 100));

    t.deepEqual((await reduceAsync([a, b, c], (acc, value) => [...acc, value], [])), ['a', 'b', 'c']);
    t.deepEqual((await reduceAsync([a, c, b], (acc, value) => [...acc, value], ['d'])), ['d', 'a', 'c', 'b']);
});
//# sourceMappingURL=/Users/mac/WebstormProjects/interview/node_modules/.cache/ava/bae3eaa92f9e745b068c9ccb4455b92e.js.map