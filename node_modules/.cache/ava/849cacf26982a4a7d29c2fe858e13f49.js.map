{"version":3,"sources":["debounce.js"],"names":["debounce","fn","delay","last","time","timerId","Date","now","clearTimeout","setTimeout","cb","t","plan","counter","a","is","end","b","i"],"mappings":";;AAoCA;;AApCA;;;;;;;;;;;;;;;;;;AAkBA,SAASA,QAAT,CAAkBC,EAAlB,EAAsBC,QAAM,CAA5B,EAA8B;AAC1B,QAAIC,OAAO;AACPC,cAAM,IADC;AAEPC,iBAAQ;AAFD,KAAX;AAIA,WAAO,MAAI;AACP,YAAID,OAAOE,KAAKC,GAAL,EAAX;AACA,YAAGJ,KAAKC,IAAL,IAAcA,OAAOD,KAAKC,IAAb,GAAqBF,KAArC,EAA2C;AACvCM,yBAAaL,KAAKE,OAAlB;AACH;AACDF,eAAO;AACHC,gBADG;AAEHC,qBAAUI,WAAWR,EAAX,EAAeC,KAAf;AAFP,SAAP;AAIH,KATD;AAUH;AACD;;AAIA,UAAKQ,EAAL,CAAQC,KAAG;AACPA,MAAEC,IAAF,CAAO,CAAP;AACA,QAAIC,UAAU,CAAd;AACA,QAAIC,IAAI,MAAI;AACRD;AACAF,UAAEI,EAAF,CAAK,CAAL,EAAQF,OAAR;AACAF,UAAEK,GAAF;AACH,KAJD;AAKA,QAAIC,IAAIjB,SAASc,CAAT,EAAY,IAAZ,CAAR;;AAEA,SAAI,IAAII,IAAG,CAAX,EAAcA,IAAI,EAAlB,EAAsBA,GAAtB,EAA0B;AACtBD;AACH;AACJ,CAbD","file":"debounce.js","sourcesContent":["/*function debounce(fn, delay) {      //= 0\n\n    let last = {\n        time: null,\n        timerId: null\n    }\n\n    return () => {\n        let time = Date.now()\n        if (last.time && (time - last.time) < delay) {\n            clearTimeout(last.timerId)\n        }\n        last = {\n            time,\n            timerId: setTimeout(fn, delay)\n        }\n    }\n}*/\nfunction debounce(fn, delay=0){\n    let last = {\n        time: null,\n        timerId:null\n    }\n    return ()=>{\n        let time = Date.now()\n        if(last.time && (time - last.time) < delay){\n            clearTimeout(last.timerId)\n        }\n        last = {\n            time,\n            timerId : setTimeout(fn, delay)\n        }\n    }\n}\n/// test\n\nimport { test } from 'ava'\n\ntest.cb(t=>{\n    t.plan(1)\n    let counter = 0\n    let a = ()=>{\n        counter++;\n        t.is(1, counter);\n        t.end();\n    }\n    let b = debounce(a, 1000);\n\n    for(let i =0; i < 10; i++){\n        b()\n    }\n})\n"]}