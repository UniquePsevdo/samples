'use strict';

var _ava = require('ava');

/*let reduceAsync = async (array, fn, value) => {
    for (let a of array) {
        value = fn(value, await a())
    }
    return value
}*/

/*
let reduceAsync = async (array, fn, val)=>{
    for(let a of array){
        val = fn(val, await a())
    }
    return val
}
*/

/*
let reduceAsync = async function (arr, fn, val){
    for(let a of arr){
        val = fn(val, await a())
    }
    return val
}
*/

let reduceAsync = async function (arr, fn, val) {
    for (let a of arr) {
        val = fn(val, (await a()));
    }
    return val;
};

/*
test(async t => {
    let a = () => Promise.resolve('a')
    let b = () => Promise.resolve('b')
    let c = () => new Promise(resolve => { setTimeout(()=>{resolve('c')}, 100)})

    t.deepEqual(['a', 'b', 'c'], await reduceAsync([a, b, c], (acc, current) => [...acc, current], []))
    t.deepEqual(['d', 'a', 'b', 'c'], await reduceAsync([a, b, c], (acc, current) => [...acc, current], ['d']))

})*/

(0, _ava.test)(async t => {
    let a = () => Promise.resolve('a');
    let b = () => Promise.resolve('b');
    let c = () => new Promise(resolve => {
        setTimeout(() => resolve('c'));
    });

    t.deepEqual(['a', 'b', 'c'], (await reduceAsync([a, b, c], (acc, curr) => [...acc, curr])), []);
});
//# sourceMappingURL=/Users/mac/WebstormProjects/interview/node_modules/.cache/ava/4501f6e68e3fead180289666dab2b60e.js.map