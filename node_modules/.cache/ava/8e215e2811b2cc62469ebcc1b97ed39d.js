'use strict';

var _ava = require('ava');

/*function debounce(fn, delay) {      //= 0

    let last = {
        time: null,
        timerId: null
    }

    return () => {
        let time = Date.now()
        if (last.time && (time - last.time) < delay) {
            clearTimeout(last.timerId)
        }
        last = {
            time,
            timerId: setTimeout(fn, delay)
        }
    }
}*/

function debounce(fn, delay) {
    let last = {
        time: null,
        timerId: null
    };
    return () => {
        let time = Date.now();
        if (last.time && time - last.time < delay) {
            clearTimeout(last.timerId);
        }
        last = {
            time,
            timerId: setTimeout(fn, delay)
        };
    };
}
/// tests

/*test.cb(t=>{
    t.plan(1);
    let count = 0;
    let a = ()=>{
        count++;
        t.is(count, 1)
        t.end();
    }
    let b = debounce(a, 100);
    b()
    b()
    b()
})*/

_ava.test.cb(t => {
    t.plan(1);
    let count = 0;
    let a = () => {
        count++;
        t.is(1, count);
        t.end();
    };
    let b = () => {
        debounce(a, 100);
    };
    b();
    b();
    b();
});
//# sourceMappingURL=/Users/mac/WebstormProjects/interview/node_modules/.cache/ava/8e215e2811b2cc62469ebcc1b97ed39d.js.map