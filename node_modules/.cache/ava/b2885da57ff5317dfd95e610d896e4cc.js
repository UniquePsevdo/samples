'use strict';

var _ava = require('ava');

function permute(string) {
    return permuteArray(string.split(''));
}

// returns array
// uses flattern
// inside flatten recursively permuteArray and without
function permuteArray(array) {
    switch (array.length) {
        case 0:
            return [];
        case 1:
            return array;
        /*
                default: return flatten(array.map(a => permuteArray(without(array, a)).map(b => a.concat(b))))
        */
        default:
            return flatten(array.map(a => {
                console.log('array.map((a) a: ', a);
                return permuteArray(without(array, a)).map(b => {
                    console.log('map(b) b: ', b);
                    return a.concat(b);
                });
            }));

    }
}

// takes an array as argument
// returns an array, initial []
//
function flatten(array) {
    return array.reduce((a, b) => a.concat(b), []);
}

// takes array and character
// creates copy of an array
// removes passed char
function without(array, a) {
    console.log('without ', array, a);
    const bs = array.slice(0);
    bs.splice(array.indexOf(a), 1);
    return bs;
}

/// tests

(0, _ava.test)(t => t.deepEqual(permute(''), []));
(0, _ava.test)(t => t.deepEqual(permute('abc'), ['abc', 'acb', 'bac', 'bca', 'cab', 'cba']));
//# sourceMappingURL=/Users/mac/WebstormProjects/interview/node_modules/.cache/ava/b2885da57ff5317dfd95e610d896e4cc.js.map