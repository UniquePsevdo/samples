{"version":3,"sources":["debounce.js"],"names":["debounce","fn","delay","last","time","timerId","Date","now","clearTimeout","setTimeout","cb","t","plan","counter","a","is","end","b"],"mappings":";;AAoCA;;AApCA;;;;;;;;;;;;;;;;;;AAkBA,SAASA,QAAT,CAAkBC,EAAlB,EAAsBC,KAAtB,EAA4B;AACxB,QAAIC,OAAO;AACPC,cAAM,IADC;AAEPC,iBAAS;AAFF,KAAX;AAIA,WAAO,MAAI;AACP,YAAID,OAAOE,KAAKC,GAAL,EAAX;AACA,YAAGJ,KAAKC,IAAL,IAAcA,OAAOD,KAAKC,IAAb,GAAqBF,KAArC,EAA2C;AACvCM,yBAAaL,KAAKE,OAAlB;AACH;AACDF,eAAO;AACHC,gBADG;AAEHC,qBAASI,WAAWR,EAAX,EAAeC,KAAf;AAFN,SAAP;AAIH,KATD;AAUH;AACD;;AAIA,UAAKQ,EAAL,CAAQC,KAAK;AACTA,MAAEC,IAAF,CAAO,CAAP;AACA,QAAIC,UAAU,CAAd;AACA,QAAIC,IAAG,MAAI;AACPD;AACAF,UAAEI,EAAF,CAAK,CAAL,EAAQF,OAAR;AACAF,UAAEK,GAAF;AACH,KAJD;AAKA,QAAIC,IAAIjB,SAASc,CAAT,EAAY,GAAZ,CAAR;AACAG;AACAA;AACAA;AACH,CAZD","file":"debounce.js","sourcesContent":["/*function debounce(fn, delay) {      //= 0\n\n    let last = {\n        time: null,\n        timerId: null\n    }\n\n    return () => {\n        let time = Date.now()\n        if (last.time && (time - last.time) < delay) {\n            clearTimeout(last.timerId)\n        }\n        last = {\n            time,\n            timerId: setTimeout(fn, delay)\n        }\n    }\n}*/\nfunction debounce(fn, delay){\n    let last = {\n        time: null,\n        timerId: null\n    }\n    return ()=>{\n        let time = Date.now()\n        if(last.time && (time - last.time) < delay){\n            clearTimeout(last.timerId)\n        }\n        last = {\n            time,\n            timerId: setTimeout(fn, delay)\n        }\n    }\n}\n/// tests\n\nimport { test } from 'ava'\n\ntest.cb(t => {\n    t.plan(1)\n    let counter = 0;\n    let a =()=>{\n        counter++\n        t.is(1, counter)\n        t.end()\n    }\n    let b = debounce(a, 100)\n    b()\n    b()\n    b()\n})"]}